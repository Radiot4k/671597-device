var writeUsLink=document.querySelector(".write-us"),writeUsPopap=document.querySelector(".modal-write-us"),close=writeUsPopap.querySelector(".modal-close"),form=writeUsPopap.querySelector(".write-us-form"),inputName=writeUsPopap.querySelector("[name='name']"),inputEmail=writeUsPopap.querySelector("[name='e-mail']"),textarea=writeUsPopap.querySelector("[name='text']"),openMapLink=document.querySelector(".open-map"),mapPopap=document.querySelector(".modal-map"),closeMap=mapPopap.querySelector(".modal-close"),overlay=document.querySelector(".modal-overlay"),isStorageSupport=!0,storName="";try{storName=localStorage.getItem("name"),storEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}writeUsLink.addEventListener("click",function(e){e.preventDefault(),writeUsPopap.classList.add("modal-show"),overlay.classList.add("overlay-show"),storName?(inputName.value=storName,storEmail?(inputEmail.value=storEmail,textarea.focus()):inputEmail.focus()):inputName.focus()}),close.addEventListener("click",function(e){e.preventDefault(),writeUsPopap.classList.remove("modal-show"),overlay.classList.remove("overlay-show"),writeUsPopap.classList.contains("modal-error")&&writeUsPopap.classList.remove("modal-error")}),form.addEventListener("submit",function(e){inputName.value&&inputEmail.value&&textarea.value?isStorageSupport&&(localStorage.setItem("name",inputName.value),localStorage.setItem("email",inputEmail.value)):(e.preventDefault(),writeUsPopap.classList.remove("modal-error"),writeUsPopap.offsetWidth=writeUsPopap.offsetWidth,writeUsPopap.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),writeUsPopap.classList.contains("modal-show")&&writeUsPopap.classList.remove("modal-show"),writeUsPopap.classList.contains("modal-error")&&writeUsPopap.classList.remove("modal-error"),overlay.classList.remove("overlay-show"))}),openMapLink.addEventListener("click",function(e){e.preventDefault(),mapPopap.classList.add("modal-show"),overlay.classList.add("overlay-show")}),closeMap.addEventListener("click",function(e){e.preventDefault(),mapPopap.classList.remove("modal-show"),overlay.classList.remove("overlay-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),mapPopap.classList.contains("modal-show")&&mapPopap.classList.remove("modal-show"),overlay.classList.remove("overlay-show"))});